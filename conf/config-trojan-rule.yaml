# HTTP 代理端口
port: 7890

# SOCKS5 代理端口
socks-port: 7891

# Linux 和 macOS 的 redir 代理端口
redir-port: 7892

# 允许局域网的连接
allow-lan: true

# 规则模式：Rule（规则） / Global（全局代理）/ Direct（全局直连）
mode: rule

# 设置日志输出级别 (默认级别：silent，即不输出任何内容，以避免因日志内容过大而导致程序内存溢出）。
# 5 个级别：silent / info / warning / error / debug。级别越高日志输出量越大，越倾向于调试，若需要请自行开启。
log-level: debug

# Clash 的 RESTFUL API
external-controller: '0.0.0.0:9090'

# RESTFUL API 的口令
secret: a762a0a044956c8afd441eb37b74096acf19d24766f424967cd043976f0484d0

# 您可以将静态网页资源（如 clash-dashboard）放置在一个目录中，clash 将会服务于 `RESTFUL API/ui`
# 参数应填写配置目录的相对路径或绝对路径。
external-ui: /app/dashboard/public

proxies:
  - { name: '当前网址 - I(1.server.iirii.com)', type: trojan, server: 1.server.iirii.com, port: 8443, password: oo123456, udp: true, sni: 1.server.iirii.com, skip-cert-verify: true }
  - name: 当前网址 - II(1.server.iirii.com)
    type: trojan
    server: 1.server.iirii.com
    port: 8443
    password: oo123456
    udp: false
    sni: 1.server.iirii.com
    skip-cert-verify: true

proxy-groups:
    - { name: '🔰 节点选择', type: select, proxies: ['当前网址 - I(1.server.iirii.com)', '当前网址 - II(1.server.iirii.com)'] }
    - { name: '🎯 全球直连', type: select, proxies: ['DIRECT'] }
    - { name: '🛑 全球拦截', type: select, proxies: ['REJECT'] }
    - { name: 'Ⓜ️ 微软服务', type: select, proxies: ['🎯 全球直连', ] }
    - { name: '🐟 漏网之鱼', type: select, proxies: ['🔰 节点选择'] }

rules:
  - RULE-SET,Backlist,🛑 全球拦截
  - RULE-SET,Proxy,🔰 节点选择
  - RULE-SET,Microsoft,Ⓜ️ 微软服务
  - GEOIP,CN,🎯 全球直连
  - MATCH,🐟 漏网之鱼

rule-providers:
  Proxy:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/zhanyeye/clash-rules-lite@release/proxy-rules.txt"
    path: /app/conf/providers/rule-proxy.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/zhanyeye/clash-rules-lite@release/microsoft-rules.txt"
    path: /app/conf/providers/rule-microsoft.yaml
    interval: 86400
  Backlist:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/zhanyeye/clash-rules-lite@release/blacklist-rules.txt"
    path: /app/conf/providers/rule-backlist.yaml
    interval: 86400
